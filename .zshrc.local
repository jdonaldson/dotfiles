
source ~/.aliases
export LESS=eFRX


export XDG_CONFIG_HOME=~/.config

maybeSource(){
   test -f $1 && . $1
}
maybePath(){
   test -d $1 && export PATH=$1:$PATH
}

maybePathAppend(){
   test -d $1 && export PATH=$PATH:$1
}

# Conda initialization (checks common locations)
for conda_path in /opt/homebrew/Caskroom/miniconda/base $HOME/miniconda3; do
  if [ -f "$conda_path/bin/conda" ]; then
    __conda_setup="$("$conda_path/bin/conda" 'shell.zsh' 'hook' 2>/dev/null)"
    if [ $? -eq 0 ]; then
      eval "$__conda_setup"
    else
      [ -f "$conda_path/etc/profile.d/conda.sh" ] && . "$conda_path/etc/profile.d/conda.sh"
    fi
    unset __conda_setup
    break
  fi
done


export HAXE_STD_PATH="/opt/homebrew/lib/haxe/std"

export PATH="/usr/local/bin:/opt/homebrew/bin:$PATH"


maybePath ~/.local/bin

maybeSource ~/.apikeys
maybeSource ~/.comrc.sh

code () { VSCODE_CWD="$PWD" open -n -b "com.microsoft.VSCode" --args $* ;}

export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion

# Auto-attach to tmux (skip in IDE terminals or if ~/.no-tmux exists)
if [[ ! -f ~/.no-tmux && -z "$TMUX" && -z "$INSIDE_EMACS" && -z "$VSCODE_PID" && -z "$TERM_PROGRAM_VERSION" ]]; then
  session_name="default"
  tmux has-session -t=$session_name 2> /dev/null
  if [[ $? -ne 0 ]]; then
     TMUX='' tmux new-session -d -s "$session_name"
  fi
  tmux attach -t "$session_name"
fi

# fbd - delete git branch (including remote branches)
fbd() {
  local branches branch
  branches=$(git for-each-ref --count=30 --sort=-committerdate refs/heads/ --format="%(refname:short)") &&
  branch=$(echo "$branches" | fzf --multi ) &&
  git branch -D $(echo "$branch" | sed "s/.* //" | sed "s#remotes/[^/]*/##")
}

eval "$(fzf --zsh)"


export COLORSCHEME="everforest dark hard"

# Set kitty theme (run manually with `set-theme` or `set-theme <name>`)
set-theme() {
  local theme="${1:-$COLORSCHEME}"
  kitten themes --reload-in=all "$theme"
}

# direnv configuration
eval "$(direnv hook zsh)"
# add this note for posterity
#


#
# Default Ollama model
export OLLAMA_MODEL="gpt-oss:20b"
